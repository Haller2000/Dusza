<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Damareen â€“ SzerepkÃ¶r vÃ¡lasztÃ¡s</title>
  {% load static %}
<link rel="stylesheet" href="{%static 'style.css'%}">
  <script src="{%static 'script.js'%}" defer></script>
</head>
<body>
  <!-- NavigÃ¡ciÃ³s sÃ¡v - Django template rÃ©szekkel -->
  <div class="navbar">
    <div class="container">
      <a class="navbar-brand" href="{% url 'users:role-selection' %}">ğŸ° Damareen</a>
      <div class="navbar-nav">
        {% if user.is_authenticated %}
          <span class="navbar-text">
            Ãœdv, <strong>{{ user.email }}</strong>
            <span class="role-badge {% if user.role == 'gamemaster' %}role-gamemaster{% else %}role-player{% endif %}">
              {{ user.get_role_display }}
            </span>
          </span>
          <a class="nav-link" href="{% url 'users:logout' %}">ğŸšª KijelentkezÃ©s</a>
        {% else %}
          <a class="nav-link" href="{% url 'users:register' %}">ğŸ“ RegisztrÃ¡ciÃ³</a>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Ãœzenetek megjelenÃ­tÃ©se -->
    {% if messages %}
      {% for message in messages %}
        <div class="message message-{{ message.tags }}">
          {{ message }}
          <button type="button" class="message-close">&times;</button>
        </div>
      {% endfor %}
    {% endif %}

    <div class="auth-container">
      <div class="auth-form">
        <h1>âš”ï¸ DAMAREEN</h1>
        <p class="subtitle">VÃ¡laszd ki a szerepkÃ¶rÃ¶d</p>

        <!-- Bejelentkezett felhasznÃ¡lÃ³ esetÃ©n -->
        {% if user.is_authenticated %}
          <div class="welcome-section">
            <h3>ÃœdvÃ¶zÃ¶llek, {{ user.email }}!</h3>
            <p class="role-info">SzerepkÃ¶r: <strong>{{ user.get_role_display }}</strong></p>
            
            {% if role == 'gamemaster' %}
              <a href="{% url 'cards:card-list' %}" class="btn">ğŸ´ KÃ¡rtya KezelÃ©s</a>
            {% else %}
              <a href="{% url 'game:game-home' %}" class="btn">ğŸ® JÃ¡tÃ©k IndÃ­tÃ¡sa</a>
            {% endif %}
          </div>
        {% else %}
          <!-- Nem bejelentkezett felhasznÃ¡lÃ³ esetÃ©n -->
          <div class="form-buttons">
            <button class="btn" onclick="goToPlayerLogin()">ğŸ® JÃ¡tÃ©koskÃ©nt lÃ©pek be</button>
            <button class="btn btn-success" onclick="goToGamemasterLogin()">ğŸ‘‘ JÃ¡tÃ©kmesterkÃ©nt lÃ©pek be</button>
          </div>

          <div class="auth-switch">
            Nincs mÃ©g fiÃ³kod? <a href="{% url 'users:register' %}">RegisztrÃ¡lj most!</a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</body>
</html>